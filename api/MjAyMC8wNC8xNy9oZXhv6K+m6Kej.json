{"title":"hexo详解","date":"2020-04-17T07:40:55.000Z","date_formatted":{"ll":"Apr 17, 2020","L":"04/17/2020","MM-DD":"04-17"},"link":"2020/04/17/hexo详解","comments":true,"tags":["Blog"],"categories":["博客"],"updated":"2020-04-19T08:23:32.672Z","content":"<h1 id=\"hexo你的博客-待修改\">hexo你的博客 待修改<a href=\"#hexo你的博客-待修改\" title=\"hexo你的博客 待修改\"></a></h1><p>一直纠结于哪里写博客，曾用过新浪博客，百度空间，JavaEye，LOFTER，OSChina，cnblogs，CSDN，自搭WordPress，都不满意。再后来也弄过Jekyll和Octopress，觉累不爱。</p>\n<p>直到多看了一眼hexo，这个逼格极高的程序猿写作方式，我喜欢。就连hexo的发音都像是黑客哦！如果你跟我一样纠结哪里写博，那就来到GitHub吧，让我们一起hexo！H人希绝对不会让你失望，相信很快hexo就会流行起来。</p>\n<p>hexo出自台湾大学生tommy351之手，是一个基于Node.js的静态博客程序，其编译上百篇文字只需要几秒。hexo生成的静态网页可以直接放到GitHub Pages，BAE，SAE等平台上。先看看tommy是如何吐槽Octopress的 →＿→ Hexo颯爽登場。</p>\n<p>如果你对默认配置满意，只需几个命令便可秒搭一个hexo。<br>如果你跟我一样喜欢折腾下，30分钟也足够个性化。<br>如果你过于喜欢折腾，可以折腾个把星期，尽情的玩。<br>搭建过程你或许觉得有那么点小繁琐，但一旦搭建完成，写文章是极简单，极舒服的。</p>\n<p>只需要几个简单命令，你就可以完成一切。</p>\n<p>hexo n #写文章<br>hexo g #生成<br>hexo d #部署 # 可与hexo g合并为 hexo d -g</p>\n<p>下面逐步介绍，进入正题。</p>\n<p>环境准备<br>安装Node<br>到Node.js官网下载相应平台的最新版本，一路安装即可。我用的是node-v0.10.22-x86.msi</p>\n<p>安装Git<br>Git的客户端很多，我用的是msysgit，喜欢用绿色版本Portable application for official Git for Windows 1.8.4，下载下来设置一下环境变量即可，Git_HOME，%Git_HOME%\\bin之类的，不多说。</p>\n<p>安装Sublime（可选）<br>Sublime Text 2在这里仅仅作为一个文本编辑器使用，支持各种编程语言和文件格式，当然也支持Markdown语法，实在是个不可多得的练码奇才。喜欢追鲜的也可以尝试处于beta版本的Sublime Text 3。我用绿色版本Portable Sublime Text 2.0.2.zip。</p>\n<p>本屌是穷码畜，对于高大上的Mac码帅用户请移步：hexo installation</p>\n<p>GitHub<br>GitHub账号和GitHub Pages 一般都应该有吧，已有的请自动无视这一部分。</p>\n<p>首先注册一个『GitHub』帐号，已有的默认默认请忽略<br>建立与你用户名对应的仓库，仓库名必须为『your_user_name.github.com』<br>添加SSH公钥到『Account settings -&gt; SSH Keys -&gt; Add SSH Key』<br>my GitHub Pagesmy GitHub Pages</p>\n<p>前两步忽略，只说第三步，添加SSH-Key。</p>\n<p>首先设置你的用户名密码：</p>\n<p>git config –global user.email “<a href=\"mailto:bu.ru@qq.com\">bu.ru@qq.com</a>“<br>git config –global user.name “bruce-sha”</p>\n<p>生成密钥：</p>\n<p>ssh-keygen -t rsa -C “<a href=\"mailto:bu.ru@qq.com\">bu.ru@qq.com</a>“</p>\n<p>输入文件路径：</p>\n<p>H:\\hexo\\blog&gt;ssh-keygen -t rsa -C “<a href=\"mailto:bu.ru@qq.com\">bu.ru@qq.com</a>“<br>Generating public/private rsa key pair.<br>Enter file in which to save the key (//.ssh/id_rsa): H:\\git\\myssh\\ssh<br>Enter passphrase (empty for no passphrase):<br>Enter same passphrase again:<br>Your identification has been saved in H:\\git\\myssh\\ssh.<br>Your public key has been saved in H:\\git\\myssh\\ssh.pub.<br>The key fingerprint is:<br>b0:0c:2e:67:33:ab:c1:50:10:40:0a:ba:c1:80:59:22 <a href=\"mailto:bu.ru@qq.com\">bu.ru@qq.com</a></p>\n<p>有个bug，文件路径中的盘符H必须大写，否则会报错。</p>\n<p>上述命令若执行成功，会在H:\\git\\myssh目录下生成两个文件id_rsa和id_rsa.pub，最后两步：</p>\n<p>用文本编辑器打开ssh.pub文件，拷贝其中的内容，将其添加到Add SSH Key<br>将id_rsa和id_rsa.pub拷贝至你Git安装目录下的.ssh目录，如H:\\PortableGit-1.8.4.ssh<br>Add SSH KeysAdd SSH Keys</p>\n<p>最后可以验证一下：</p>\n<p>ssh -T <a href=\"mailto:git@github.com\">git@github.com</a></p>\n<p>若有问题，请重新设置。常见错误请参考：<br>GitHub Help - Generating SSH Keys<br>GitHub Help - Error Permission denied (publickey)</p>\n<p>安装<br>Node和Git都安装好后，可执行如下命令安装hexo：</p>\n<p>npm install -g hexo</p>\n<p>初始化<br>然后，执行init命令初始化hexo到你指定的目录：</p>\n<p>hexo init <folder><br>也可以cd到目标目录，执行hexo init。</p>\n<p>好啦，至此，全部安装工作已经完成！</p>\n<p>生成静态页面<br>cd 到你的init目录，执行如下命令，生成静态页面至hexo\\public\\目录。</p>\n<p>hexo generate</p>\n<p>命令必须在init目录下执行，否则不成功，但是也不报错。<br>当你修改文章Tag或内容，不能正确重新生成内容，可以删除hexo\\db.json后重试，还不行就到public目录删除对应的文件，重新生成。</p>\n<p>本地启动<br>执行如下命令，启动本地服务，进行文章预览调试。</p>\n<p>hexo server</p>\n<p>浏览器输入<a href=\"http://localhost:4000就可以看到效果。\" target=\"_blank\">http://localhost:4000就可以看到效果。</a></p>\n<p>请使用高级浏览器，否则可能…你懂的！</p>\n<p>写文章<br>执行new命令，生成指定名称的文章至hexo\\source_posts\\postName.md。</p>\n<p>hexo new [layout] “postName” #新建文章</p>\n<p>其中layout是可选参数，默认值为post。有哪些layout呢，请到scaffolds目录下查看，这些文件名称就是layout名称。当然你可以添加自己的layout，方法就是添加一个文件即可，同时你也可以编辑现有的layout，比如post的layout默认是hexo\\scaffolds\\post.md</p>\n<p>title: { { title } }<br>date: { { date } }<br>tags:</p>\n<hr>\n<p>请注意，大括号与大括号之间我多加了个空格，否则会被转义，不能正常显示。</p>\n<p>我想添加categories，以免每次手工输入，只需要修改这个文件添加一行，如下：</p>\n<p>title: { { title } }<br>date: { { date } }<br>categories:<br>tags: </p>\n<hr>\n<p>postName是md文件的名字，同时也出现在你文章的URL中，postName如果包含空格，必须用”将其包围，postName可以为中文。</p>\n<p>注意，所有文件：后面都必须有个空格，不然会报错。</p>\n<p>看一下刚才生成的文件hexo\\source_posts\\postName.md，内容如下：</p>\n<p>title: postName #文章页面上的显示名称，可以任意修改，不会出现在URL中<br>date: 2013-12-02 15:30:16 #文章生成时间，一般不改，当然也可以任意修改<br>categories: #文章分类目录，可以为空，注意:后面有个空格<br>tags: #文章标签，可空，多标签请用格式[tag1,tag2,tag3]，注意:后面有个空格</p>\n<hr>\n<p>这里开始使用markdown格式输入你的正文。</p>\n<p>接下来，你就可以用喜爱的编辑器尽情书写你的文章。关于markdown语法，可以参考我的文章Markdown简明语法。</p>\n<p>fancybox<br>可能有人对这个Reading页面中图片的fancybox效果感兴趣，这个是怎么做的呢。<br>很简单，只需要在你的文章*.md文件的头上添加photos项即可，然后一行行添加你要展示的照片：</p>\n<p>layout: photo<br>title: 我的阅历<br>date: 2085-01-16 07:33:44<br>tags: [hexo]<br>photos:</p>\n<ul><li><a href=\"http://bruce.u.qiniudn.com/2013/11/27/reading/photos-0.jpg\" target=\"_blank\">http://bruce.u.qiniudn.com/2013/11/27/reading/photos-0.jpg</a></li>\n<li><a href=\"http://bruce.u.qiniudn.com/2013/11/27/reading/photos-1.jpg\" target=\"_blank\">http://bruce.u.qiniudn.com/2013/11/27/reading/photos-1.jpg</a></li>\n</ul><p>经过测试，文件头上的layout: photo可以省略。</p>\n<p>不想每次都手动添加怎么办？同样的，打开您的hexo\\scaffolds\\photo.md</p>\n<p>layout: { { layout } }<br>title: { { title } }<br>date: { { date } }<br>tags:<br>photos: </p>\n<ul><li></li>\n<li>–</li>\n</ul><p>然后每次可以执行带layout的new命令生成照片文章：</p>\n<p>hexo new photo “photoPostName” #新建照片文章</p>\n<p>description<br>markdown文件头中也可以添加description，以覆盖全局配置文件中的description内容，请参考下文_config.yml的介绍。</p>\n<p>title: hexo你的博客<br>date: 2013-11-22 17:11:54<br>categories: default<br>tags: [hexo]<br>description: 你对本页的描述</p>\n<hr>\n<p>hexo默认会处理全部markdown和html文件，如果不想让hexo处理你的文件，可以在文件头中加入layout: false。</p>\n<p>文章摘要<br>在需要显示摘要的地方添加如下代码即可：</p>\n<p>以上是摘要</p>\n<a id=\"more\"></a><p>以下是余下全文</p>\n<p>more以上内容即是文章摘要，在主页显示，more以下内容点击『&gt; Read More』链接打开全文才显示。</p>\n<p>hexo中所有文件的编码格式均是UTF-8。</p>\n<p>主题安装<br>萝卜白菜各有所爱，玩博客换主题是必不可少的，hexo的主题列表Hexo Themes。<br>我比较喜欢pacman，modernist、ishgo，raytaylorism。Pacman最为优秀，简洁大方小清新，同时移动版本支持的也很好，但作者并没有把很多参数分离出来给出可配置项，我最终选择了modernist。</p>\n<p>安装主题的方法就是一句git命令：</p>\n<p>git clone <a href=\"https://github.com/heroicyang/hexo-theme-modernist.git\" target=\"_blank\">https://github.com/heroicyang/hexo-theme-modernist.git</a> themes/modernist</p>\n<p>目录是否是modernist无所谓，只要与_config.yml文件一致即可。</p>\n<p>安装完成后，打开hexo_config.yml，修改主题为modernist</p>\n<p>theme: modernist</p>\n<p>打开hexo\\themes\\modernist目录，编辑主题配置文件_config.yml：</p>\n<p>menu: #配置页头显示哪些菜单</p>\n<h1 id=\"home-\">Home: /<a href=\"#home-\" title=\"Home: /\"></a></h1><p>  Archives: /archives<br>  Reading: /reading<br>  About: /about</p>\n<h1 id=\"guestbook-about\">Guestbook: /about<a href=\"#guestbook-about\" title=\"Guestbook: /about\"></a></h1><p>excerpt_link: Read More #摘要链接文字<br>archive_yearly: false #按年存档</p>\n<p>widgets: #配置页脚显示哪些小挂件</p>\n<ul><li>category<h1 id=\"--tag\">- tag<a href=\"#--tag\" title=\"- tag\"></a></h1></li>\n<li>tagcloud</li>\n<li>recent_posts<h1 id=\"--blogroll\">- blogroll<a href=\"#--blogroll\" title=\"- blogroll\"></a></h1></li>\n</ul><p>blogrolls: #友情链接</p>\n<ul><li>bruce sha’s duapp wordpress: <a href=\"http://ibruce.duapp.com\" target=\"_blank\">http://ibruce.duapp.com</a></li>\n<li>bruce sha’s javaeye: <a href=\"http://buru.iteye.com\" target=\"_blank\">http://buru.iteye.com</a></li>\n<li>bruce sha’s oschina blog: <a href=\"http://my.oschina.net/buru\" target=\"_blank\">http://my.oschina.net/buru</a></li>\n<li>bruce sha’s baidu space: <a href=\"http://hi.baidu.com/iburu\" target=\"_blank\">http://hi.baidu.com/iburu</a></li>\n</ul><p>fancybox: true #是否开启fancybox效果</p>\n<p>duoshuo_shortname: buru #多说账号</p>\n<p>google_analytics:<br>rss:</p>\n<p>更新主题</p>\n<p>cd themes/modernist<br>git pull</p>\n<p>评论框<br>静态博客要使用第三方评论系统，hexo默认集成的是Disqus，因为你懂的，所以国内的话还是建议用多说。<br>直接用你的微博/豆瓣/人人/百度/开心网帐号登录多说，做一下基本设置。如果使用modernist主题，在modernist_config.yml中配置duoshuo_shortname为多说的基本设置-&gt;域名中的shortname即可。你也可以在多说后台自定义一下多说评论框的格式，比如评论框的位置，对于css设置，可以参考这里，我是在HeroicYang的基础上修改的。</p>\n<p>如果你是有的其他第三方评论系统，将通用代码粘贴到hexo\\themes\\modernist\\layout_partial\\comment.ejs里面，如下：</p>\n<p>&lt;% if (config.disqus_shortname &amp;&amp; page.comments){ %&gt;</p>\n<section id=\"comment\">\n  #你的通用代码\n<% } %><p>自定义页面<br>执行new page命令</p>\n<p>hexo new page “about”</p>\n<p>在hexo\\source\\下会生成about目录，里面有个index.md，直接编辑就可以了，然后在主题的_config.yml中将其配置显示出来。<br>上述步骤，也可以手工生成，在hexo\\source\\下手工新建about和index.md也是完全等价的。</p>\n<p>因为markdown对table的支持不好，我是在about中直接建立index.html，里面书写页面内容，hexo会帮你加上头和尾。</p>\n<p>404页面<br>GitHub Pages 自定义404页面非常容易，直接在根目录下创建自己的404.html就可以。但是自定义404页面仅对绑定顶级域名的项目才起作用，GitHub默认分配的二级域名是不起作用的，使用hexo server在本机调试也是不起作用的。<br>其实，404页面可以做更多有意义的事，来做个404公益项目吧。现在，看下我的404页面一个ibruce.info上不存在的页面，做点有意义的事情，也对得起这个域名。<br>目前有如下几个公益404接入地址，我选择了腾讯的。404页面，每个人可以做的更多。</p>\n<p>腾讯公益404<br>404公益_益云(公益互联网)社会创新中心<br>失蹤兒童少年資料管理中心404<br>图床<br>考虑到博客的速度，同时也为了便于博客的迁移，图床是必须的。我墙裂推荐七牛，访问速度极快，支持日志、防盗链和水印。</p>\n<p>免费用户有每月10GB流量+总空间10GB+PUT/DELETE 10万次请求+GET 100万次请求，这对个人博客来说足够，不够的话点这个活动页面，也可通过邀请好友获得奖励，我也求一下七牛邀请。有一点要说明的是，七牛没有目录的概念，但是文件名可以包含/，比如2013/11/27/reading/photos-0.jpg，参考这里关于key-value存储系统。</p>\n<p>七牛除了作为图床还可以作为其他静态文件存储空间，比如我的个人站点首页有个字库文件和JS文件下载较慢，有时间会把它弄到七牛上去，以提高首页打开速度。请看这篇Linux中国采用七牛云存储支撑图片访问。</p>\n<p>如果非要说不足的话，就是文件管理界面不是很友好，不支持CNAME到分配的永久链接，也不能绑定未备案的自有域名，必须备案才可以。</p>\n<p>如果你对七牛web版的文件管理界面不满意，可以用官方的七牛云存储工具。</p>\n<p>您还可以使用如下图床服务 FarBox，Dropbox，又拍云。</p>\n<p>申请域名（可选）<br>GitHubPages默认为每个用户分配了一个二级域名『your_user_name.github.com』或『your_user_name.github.io』。<br>如果你对上述域名不满意，可以到狗爹上申请一个自己的域名，然后绑定到GitHub Pages。绑定方法很简单，在repo根目录下建立一个CNAME文件，里面写上域名即可。</p>\n<p>GoDaddy<br>买域名首选狗爹，国内的服务商大家都懂的。<br>目前.info域名只要￥18.99，但据说续费比较贵，我是先玩下，一年后再换，至于搜索引擎重新索引之类的，无所谓。.me和.com域名稍微贵点，大约￥60-100，网上有很多优惠码可用，可惜有的优惠码有限制。比如有个.com域名优惠码只要$1.99，但只能用国外信用卡购买。更多优惠码可以自行谷歌或到独特优惠码找。不着急的同学可以将中意的域名加入购物车先不付款，过几天，狗爹就会发优惠信息给你。狗爹不定期也会有活动，可以多关注。<br>付款后，需要稍微等一会你才会拿到域名，特别是支付宝付款的，要等大约半小时左右。此外域名要一年年的买，这样比较划算。</p>\n<p>建议大家申请.com或.me域名。据说.info因垃圾网站太多，被搜索引擎惩罚，而且续费较贵。</p>\n<p>DNSPod<br>GoDaddy的NameServers有时会被墙，因此墙裂推荐国内的DNSPod解析域名，免费服务真心不错。支持微信/邮件提醒，监控与报警，访问统计，健康诊断，搜索引擎推送，速度哇哇的，对于我来说足够。<br>两步设置就可以搞定，怎么操作参考Godaddy注册商域名修改DNS地址。</p>\n<p>命令<br>常用命令：</p>\n<p>hexo new “postName” #新建文章<br>hexo new page “pageName” #新建页面<br>hexo generate #生成静态页面至public目录<br>hexo server #开启预览访问端口（默认端口4000，’ctrl + c’关闭server）<br>hexo deploy #将.deploy目录部署到GitHub</p>\n<p>常用复合命令：</p>\n<p>hexo deploy -g<br>hexo server -g</p>\n<p>简写：</p>\n<p>hexo n == hexo new<br>hexo g == hexo generate<br>hexo s == hexo server<br>hexo d == hexo deploy</p>\n<p>##至此，基本操作介绍完毕，以下内容普通用户无需了解。<br>目录介绍<br>默认目录结构：</p>\n<p>.<br>├── .deploy<br>├── public<br>├── scaffolds<br>├── scripts<br>├── source<br>|   ├── _drafts<br>|   └── _posts<br>├── themes<br>├── _config.yml<br>└── package.json<br>.deploy：执行hexo deploy命令部署到GitHub上的内容目录<br>public：执行hexo generate命令，输出的静态网页内容目录<br>scaffolds：layout模板文件目录，其中的md文件可以添加编辑<br>scripts：扩展脚本目录，这里可以自定义一些javascript脚本<br>source：文章源码目录，该目录下的markdown和html文件均会被hexo处理。该页面对应repo的根目录，404文件、favicon.ico文件，CNAME文件等都应该放这里，该目录下可新建页面目录。<br>_drafts：草稿文章<br>_posts：发布文章<br>themes：主题文件目录<br>_config.yml：全局配置文件，大多数的设置都在这里<br>package.json：应用程序数据，指明hexo的版本等信息，类似于一般软件中的关于按钮<br>接下来是重头戏_config.yml，做个简单说明：</p>\n<h1 id=\"hexo-configuration\">Hexo Configuration<a href=\"#hexo-configuration\" title=\"Hexo Configuration\"></a></h1><h2 id=\"docs-httpzespiatwhexodocsconfigurehtml\">Docs: <a href=\"http://zespia.tw/hexo/docs/configure.html\" target=\"_blank\">http://zespia.tw/hexo/docs/configure.html</a><a href=\"#docs-httpzespiatwhexodocsconfigurehtml\" title=\"Docs: http://zespia.tw/hexo/docs/configure.html\"></a></h2><h2 id=\"source-httpsgithubcomtommy351hexo\">Source: <a href=\"https://github.com/tommy351/hexo/\" target=\"_blank\">https://github.com/tommy351/hexo/</a><a href=\"#source-httpsgithubcomtommy351hexo\" title=\"Source: https://github.com/tommy351/hexo/\"></a></h2><h1 id=\"site-整站的基本信息\">Site #整站的基本信息<a href=\"#site-整站的基本信息\" title=\"Site #整站的基本信息\"></a></h1><p>title: 不如 #网站标题<br>subtitle: 码农，程序猿，未来的昏析师 #网站副标题<br>description: bruce sha’s blog | java | scala | bi #网站描述，给搜索引擎用的，在生成html中的head-&gt;meta中可看到<br>author: bruce #网站作者，在下方显示<br>email: <a href=\"mailto:bu.ru@qq.com\">bu.ru@qq.com</a> #联系邮箱<br>language: zh-CN #语言</p>\n<h1 id=\"url-域名和文件结构\">URL #域名和文件结构<a href=\"#url-域名和文件结构\" title=\"URL #域名和文件结构\"></a></h1><h2 id=\"if-your-site-is-put-in-a-subdirectory-set-url-as-httpyoursitecomchild39-and-root-as-child\">If your site is put in a subdirectory, set url as ‘<a href=\"http://yoursite.com/child&#39;\" target=\"_blank\">http://yoursite.com/child&#39;</a> and root as ‘/child/‘<a href=\"#if-your-site-is-put-in-a-subdirectory-set-url-as-httpyoursitecomchild39-and-root-as-child\" title=\"If your site is put in a subdirectory, set url as ‘http://yoursite.com/child&#39; and root as ‘/child/‘\"></a></h2><p>url: <a href=\"http://ibruce.info\" target=\"_blank\">http://ibruce.info</a> #你的域名<br>root: /<br>permalink: :year/:month/:day/:title/<br>tag_dir: tags<br>archive_dir: archives<br>category_dir: categories<br>code_dir: downloads/code</p>\n<h1 id=\"writing-写文章选项\">Writing #写文章选项<a href=\"#writing-写文章选项\" title=\"Writing #写文章选项\"></a></h1><p>new_post_name: :title.md # File name of new posts<br>default_layout: post #默认layout方式<br>auto_spacing: false # Add spaces between asian characters and western characters<br>titlecase: false # Transform title into titlecase<br>external_link: true # Open external links in new tab<br>max_open_file: 100<br>multi_thread: true<br>filename_case: 0<br>render_drafts: false<br>highlight: #代码高亮<br>  enable: true #是否启用<br>  line_number: false #是否显示行号<br>  tab_replace:</p>\n<h1 id=\"category-amp-tag-分类与标签\">Category &amp; Tag #分类与标签<a href=\"#category-amp-tag-分类与标签\" title=\"Category &amp; Tag #分类与标签\"></a></h1><p>default_category: uncategorized # default<br>category_map:<br>tag_map:</p>\n<h1 id=\"archives-存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突\">Archives #存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突<a href=\"#archives-存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突\" title=\"Archives #存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突\"></a></h1><h2 id=\"2-enable-pagination\">2: Enable pagination<a href=\"#2-enable-pagination\" title=\"2: Enable pagination\"></a></h2><h2 id=\"1-disable-pagination\">1: Disable pagination<a href=\"#1-disable-pagination\" title=\"1: Disable pagination\"></a></h2><h2 id=\"0-fully-disable\">0: Fully Disable<a href=\"#0-fully-disable\" title=\"0: Fully Disable\"></a></h2><p>archive: 1<br>category: 1<br>tag: 1</p>\n<h1 id=\"server-本地服务参数\">Server #本地服务参数<a href=\"#server-本地服务参数\" title=\"Server #本地服务参数\"></a></h1><h2 id=\"hexo-uses-connect-as-a-server\">Hexo uses Connect as a server<a href=\"#hexo-uses-connect-as-a-server\" title=\"Hexo uses Connect as a server\"></a></h2><h2 id=\"you-can-customize-the-logger-format-as-defined-in\">You can customize the logger format as defined in<a href=\"#you-can-customize-the-logger-format-as-defined-in\" title=\"You can customize the logger format as defined in\"></a></h2><h2 id=\"httpwwwsenchalabsorgconnectloggerhtml\"><a href=\"http://www.senchalabs.org/connect/logger.html\" target=\"_blank\">http://www.senchalabs.org/connect/logger.html</a><a href=\"#httpwwwsenchalabsorgconnectloggerhtml\" title=\"http://www.senchalabs.org/connect/logger.html\"></a></h2><p>port: 4000<br>logger: true<br>logger_format:</p>\n<h1 id=\"date--time-format-日期显示格式\">Date / Time format #日期显示格式<a href=\"#date--time-format-日期显示格式\" title=\"Date / Time format #日期显示格式\"></a></h1><h2 id=\"hexo-uses-momentjs-to-parse-and-display-date\">Hexo uses Moment.js to parse and display date<a href=\"#hexo-uses-momentjs-to-parse-and-display-date\" title=\"Hexo uses Moment.js to parse and display date\"></a></h2><h2 id=\"you-can-customize-the-date-format-as-defined-in\">You can customize the date format as defined in<a href=\"#you-can-customize-the-date-format-as-defined-in\" title=\"You can customize the date format as defined in\"></a></h2><h2 id=\"httpmomentjscomdocsdisplayingformat\"><a href=\"http://momentjs.com/docs/#/displaying/format/\" target=\"_blank\">http://momentjs.com/docs/#/displaying/format/</a><a href=\"#httpmomentjscomdocsdisplayingformat\" title=\"http://momentjs.com/docs/#/displaying/format/\"></a></h2><p>date_format: MMM D YYYY<br>time_format: H:mm:ss</p>\n<h1 id=\"pagination-分页设置\">Pagination #分页设置<a href=\"#pagination-分页设置\" title=\"Pagination #分页设置\"></a></h1><h2 id=\"set-per_page-to-0-to-disable-pagination\">Set per_page to 0 to disable pagination<a href=\"#set-per_page-to-0-to-disable-pagination\" title=\"Set per_page to 0 to disable pagination\"></a></h2><p>per_page: 10 #每页10篇文章<br>pagination_dir: page</p>\n<h1 id=\"disqus-社会化评论disqus，我使用多说，在主题中配置\">Disqus #社会化评论disqus，我使用多说，在主题中配置<a href=\"#disqus-社会化评论disqus，我使用多说，在主题中配置\" title=\"Disqus #社会化评论disqus，我使用多说，在主题中配置\"></a></h1><p>disqus_shortname:</p>\n<h1 id=\"extensions-插件，暂时未安装插件\">Extensions #插件，暂时未安装插件<a href=\"#extensions-插件，暂时未安装插件\" title=\"Extensions #插件，暂时未安装插件\"></a></h1><h2 id=\"plugins-httpsgithubcomtommy351hexowikiplugins\">Plugins: <a href=\"https://github.com/tommy351/hexo/wiki/Plugins\" target=\"_blank\">https://github.com/tommy351/hexo/wiki/Plugins</a><a href=\"#plugins-httpsgithubcomtommy351hexowikiplugins\" title=\"Plugins: https://github.com/tommy351/hexo/wiki/Plugins\"></a></h2><h2 id=\"themes-httpsgithubcomtommy351hexowikithemes\">Themes: <a href=\"https://github.com/tommy351/hexo/wiki/Themes\" target=\"_blank\">https://github.com/tommy351/hexo/wiki/Themes</a><a href=\"#themes-httpsgithubcomtommy351hexowikithemes\" title=\"Themes: https://github.com/tommy351/hexo/wiki/Themes\"></a></h2><h2 id=\"主题\">主题<a href=\"#主题\" title=\"主题\"></a></h2><p>theme: modernist # raytaylorism # pacman # modernist # light<br>exclude_generator:</p>\n<h1 id=\"deployment-部署\">Deployment #部署<a href=\"#deployment-部署\" title=\"Deployment #部署\"></a></h1><h2 id=\"docs-httpzespiatwhexodocsdeployhtml\">Docs: <a href=\"http://zespia.tw/hexo/docs/deploy.html\" target=\"_blank\">http://zespia.tw/hexo/docs/deploy.html</a><a href=\"#docs-httpzespiatwhexodocsdeployhtml\" title=\"Docs: http://zespia.tw/hexo/docs/deploy.html\"></a></h2><p>deploy:<br>  type: github<br>  repository: <a href=\"mailto:git@github.com\">git@github.com</a>:bruce-sha/bruce-sha.github.com.git #你的GitHub Pages仓库<br>修改局部页面<br>页面展现的全部逻辑都在每个主题中控制，源代码在hexo\\themes\\你使用的主题\\中，以modernist主题为例：</p>\n<p>.<br>├── languages          #多语言<br>|   ├── default.yml    #默认语言<br>|   └── zh-CN.yml      #中文语言<br>├── layout             #布局，根目录下的<em>.ejs文件是对主页，分页，存档等的控制<br>|   ├── _partial       #局部的布局，此目录下的</em>.ejs是对头尾等局部的控制<br>|   └── _widget        #小挂件的布局，页面下方小挂件的控制<br>├── source             #源码<br>|   ├── css            #css源码<br>|   |   ├── _base      #<em>.styl基础css<br>|   |   ├── _partial   #</em>.styl局部css<br>|   |   ├── fonts      #字体<br>|   |   ├── images     #图片<br>|   |   └── style.styl #*.styl引入需要的css源码<br>|   ├── fancybox       #fancybox效果源码<br>|   └── js             #javascript源代码<br>├── _config.yml        #主题配置文件<br>└── README.md          #用GitHub的都知道</p>\n<p>如果你需要修改头部，直接修改hexo\\themes\\modernist\\layout_partial\\header.ejs，比如头上加个搜索框：</p>\n<div>\n<form class=\"search\" action=\"//google.com/search\" method=\"get\" accept-charset=\"utf-8\">\n <input type=\"search\" name=\"q\" id=\"search\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" maxlength=\"20\" placeholder=\"Search\" />\n <input type=\"hidden\" name=\"q\" value=\"site:<%- config.url.replace(/^https?:\\/\\//, '') %>\">\n</form>\n</div><p>将如上代码加入即可，您需要修改css以便这个搜索框比较美观。</p>\n<p>再如，你要修改页脚版权信息，直接编辑hexo\\themes\\modernist\\layout_partial\\footer.ejs。同理，你需要修改css，直接去修改对应位置的styl文件。</p>\n<p>统计<br>页面上显示访问次数可以使用 不蒜子，两行代码即可搞定。</p>\n<p>因Google Analytics偶尔被墙，故用百度统计，以modernist主题为例，介绍如何添加。<br>编辑文件hexo\\themes\\modernist_config.yml，增加配置选项：</p>\n<p>baidu_tongji: true</p>\n<p>新建文件hexo\\themes\\modernist\\layout_partial\\baidu_tongji.ejs，内容如下：</p>\n<p>&lt;% if (theme.baidu_tongji){ %&gt;</p>\n<script type=\"text/javascript\">\n#你的百度统计代码\n</script><p>&lt;% } %&gt;</p>\n<p>注册并登录百度统计获取你的统计代码。</p>\n<p>编辑文件hexo\\themes\\modernist\\layout_partial\\head.ejs，在『/head』之前增加：</p>\n<p>&lt;%- partial(‘baidu_tongji’) %&gt;</p>\n<p>重新生成并部署你的站点。</p>\n<p>不出意外的话，在你的站点的每个页面的左上角都会看到一个恶心的百度LOGO。你只能在『百度统计首页-&gt;网站列表-&gt;获取代码-&gt;系统管理设置-&gt;统计图标设置-&gt;显示图标』，把那个勾去掉。百度真是恶心，我准备还是用Google Analytics。</p>\n<p>分享<br>我没有添加分享，觉得这个不是很必要，导致页面看起来啰嗦。以加网为例介绍如何添加：</p>\n<p>在hexo\\themes\\modernist\\layout_partial\\post下新建jiathis.ejs文件。<br>注册加网获得你的分享代码，写入jiathis.ejs。<br>在hexo\\themes\\modernist\\layout_partial\\article.ejs中，添加&lt;%-partial(‘post/jiathis’)%&gt;。<br>分享服务还可以使用如下企业提供的技术加网，bShare，百度分享。</p>\n<p>网站图标<br>看一下hexo\\themes\\modernist\\layout_partial\\head.ejs，找到这句：</p>\n<link rel=\"icon\" type=\"image/x-icon\" href=\"<%- config.root %>favicon.ico\"><p>你懂的，将你的favicon.ico放到工程根目录下即可，也就是hexo\\source目录。可以在Faviconer制作你的ico图标，国内有比特虫。</p>\n<p>自定义挂件<br>除了默认已提供的挂件外，你还可以自定义自己的小挂件，在hexo\\themes\\modernist\\layout_widget\\下，新建自己的ejs文件，如myWidget.ejs，然后在配置文件hexo\\themes\\modernist_config.yml中配置。</p>\n<p>widgets:</p>\n<ul><li>myWidget</li>\n</ul><p>用上述方法可以添加新浪微博小挂件。</p>\n<p>生成自己的微博组件。<br>添加hexo\\themes\\modernist\\layout_widget\\weibo.ejs文件。<br>配置hexo\\themes\\modernist_config.yml。<br>插件<br>安装插件：</p>\n<p>npm install <plugin-name> –save</p>\n<p>启用插件：在*hexo_config.yml文件添加：</p>\n<p>plugins:</p>\n<ul><li><plugin-name>  #插件名</li>\n</ul><p>升级插件：</p>\n<p>npm update</p>\n<p>卸载插件：</p>\n<p>npm uninstall <plugin-name></p>\n<p>RSS插件<br>将上述命令中的『plugin-name』，替换为hexo-generator-feed。一旦安装完成，你可以在配置显示你站点的RSS，文件路径\\atom.xml。</p>\n<p>你可以用rss作为迁移工具，用如下命令读取其他位置的rss：</p>\n<p>hexo migrate rss <source></p>\n<p>『source』是本地或网络文件路径。</p>\n<p>Sitemap插件<br>将上述命令中的『plugin-name』，替换为hexo-generator-sitemap。你可以将你站点地图提交给搜索引擎，文件路径\\sitemap.xml。</p>\n<p>更多插件的安装方法，请参考官方Wiki。</p>\n<p>如果你按照上述步骤做，但插件不起作用，没有生成atom.xml和sitemap.xml，也没有报错，那么你应该cd到你的hexo初始化目录，在该目录下重新安装插件，重试。</p>\n<p>迁移<br>hexo支持从其他类型站点迁移，如通用RSS，Jekyll，Octopress，WordPress等，这一部分我没试过。请参考官方文档Hexo Migration。</p>\n<p>搜索引擎<br>你可以到屈站长提交你的站点给搜索引擎。其他内容如添加站点或页面的description，提交Sitemap，添加百度统计，Google Analytics等等，参考本文其他章节的内容，不再一一阐述。</p>\n<p>更新<br>更新hexo：</p>\n<p>npm update -g hexo</p>\n<p>更新主题：</p>\n<p>cd themes/你的主题<br>git pull</p>\n<p>更新插件：</p>\n<p>npm update</p>\n<p>干掉IE<br>Kill IE6 提示的javascript代码，请自行搜索。</p>\n<p>换机器<br>你要保留好自己的博客源码。换机器写博客，就只能使用各种网盘的同步功能，或者你把你的站点源文件提交到某代码托管服务器。另外，貌似这篇很牛逼，Hexo 服务器端布署及 Dropbox 同步。</p>\n<p>我的办法是这样的，先在一个目录下做好Node+Git+Hexo的绿色环境，写个hexos.bat可以一键启动hexo工作台，把整个目录用Dropbox同步，这样随便在办公室或家的任何笔记本台式机都可以写博客，也不用处理什么文件拷贝备份的事情，非常爽。</p>\n<p>统计功能<br>为hexo博客添加访问次数统计功能</p>\n<p>其它<br>网站加速<br>Webluker-CDN 网站加速 免费CDN DNS解析<br>Webluker-FAQ索引</p>\n<p>网站监控<br>监控宝-网站监控 网页监控 服务器监控<br>监控宝-常见问题</p>\n<p>DNSPod本身就有D监控可用。</p>\n<p>站长工具<br>谷歌站长工具<br>百度站长工具<br>站长之家工具<br>360搜索站长平台<br>360网站安全检测<br>奇云测<br>360云监控</p>\n<p>SEO<br>谷歌搜索引擎优化初学者指南.PDF</p>\n<p>数据统计<br>不蒜子<br>百度统计<br>Google Analytics</p>\n<p>企业邮箱<br>腾讯企业邮箱<br>在DNSPod域名解析商处如何设置企业邮箱</p>\n<p>图片生成<br>邮箱地址生成图片<br>MakePic.com邮址图片生成</p>\n<p>徽章生成<br>Logo Creatr<br>Web 2.0 Logo Creator (可能需翻墙)</p>\n<p>favicon制作<br>Favicon制作</p>\n<p>文章推荐/猜你喜欢<br>无觅关联推荐<br>友荐<br>乐知推荐<br>百度推荐</p>\n<p>广告<br>百度联盟</p>\n<p>不足<br>配置文件缺少空格会报错<br>报错不能得到精确定位，只能靠经验<br>换台机器写文章不好处理<br>如何统计总来访数和单页文章阅读次数，请参考为hexo博客添加访问次数统计功能。<br>结束<br>我的博客『ibruce.info』基本算是免费做出来的，为报答开源社区，特写这篇文章，由于水平有限，错误之处在所难免，请诸位多多包涵，不吝指点。</p>\n<p>在此一并感谢GitHub，Hexo，Modernist，七牛，多说，公益404，GoDaddy，DNSPod，百度统计，Google Analytics，以及Node.js，MSYSGit，Sublime Text 2，最后感谢Markdown。</p>\n<p>关于以上内容的任何问题，您都可以对 bruce 留言或邮件 <a href=\"mailto:bu.ru@qq.com\">bu.ru@qq.com</a>。</p>\n<p>ps：（2014年12月 更新）<br>当本地调试出现诡异现象时候，请先使用 hexo clean 清理已经生成的静态文件后重试。<br>GitHub官方之前发邮件给用户，已经不建议使用A记录指向静态ip了，建议CNAME指向你的GitHub Pages URL。<br>如果你申请了自己的域名，您可以使用 DNSPod+QQ域名邮箱 打造自己的专属邮箱，比如我的 <a href=\"mailto:me@ibruce.info\">me@ibruce.info</a>，是不是逼格又提高了一丁点？<br>添加 Fork me on Github 彩带，请戳 <a href=\"http://github.com/blog/273-github-ribbons\" target=\"_blank\">http://github.com/blog/273-github-ribbons</a> 。<br>注意看本页最下方的访问次数统计，这不是一个普通的计数器，这个计数器骨骼精奇天赋异禀，他是实时的！你打开两个浏览窗口，只刷新一个窗口另一个窗口的数字会自动实时变化的，有点意思吧？怎么做的呢，先上个图，当然，这张看板的全部内容也都是实时动态变化着的 ^_^<br>countercounter</p>\n<p>ps：（2015年4月 更新）<br>折腾了两天，终于搞定GitHub不间断被墙导致网站无法访问的问题。方法就是GitHub作为主站，GitCafe作为备份。因为我的hexo版本很低，不得不先升级到hexo3，各种坑，不建议升级，最后自己修改主题，又是各种坑，快累尿了。<br>号外号外：最新的统计服务已经开放，两行代码轻松搞定，你可以直接使用：不蒜子 微服务，本人墙裂推荐，只需要两行代码哦。各种用法实例和显示效果参考不蒜子文档中的实例链接。不蒜子，极客的算子，极简的算子，任你发挥的算子。<br>参考文献<br>Hexo<br>使用Hexo在Github上搭建个人博客<br>hexo教程<br>hexo系列教程：（四）hexo博客的优化技巧<br>hexo系列教程：（五）hexo博客的优化技巧续<br><em>折腾了个新主题<br>使用hexo搭建博客<br>从Octopress到Hexo<br>搞定Hexo<br>Hello World by Hexo<br>hexo的代码高亮<br>用Hexo快速打造静态博客</em><br>使用Sublime Text 2 编辑Markdown<br>给hexo添加一个404页面<br>GotGitHub<br>搭建一个免费的，无限流量的Blog — github Pages和Jekyll入门<br>Godaddy注册商域名修改DNS地址<br>WordPress中使用七牛云存储加速图片等静态文件访问速度<br>怎样搭建一个自有域名的WordPress博客<br>Hexo服务器端布署及Dropbox同步</p>\n","prev":{"title":"数据和C","link":"2020/04/18/数据和C"},"next":{"title":"hexo搭建+Butterfly主题配置","link":"2020/04/15/hexo搭建+Butterfly主题配置"},"plink":"https://dxsummer.gitee.io/2020/04/17/hexo详解/","toc":[{"id":"hexo你的博客-待修改","title":"hexo你的博客 待修改","index":"1"},{"id":"home-","title":"Home: &#x2F;","index":"2"},{"id":"guestbook-about","title":"Guestbook: &#x2F;about","index":"3"},{"id":"--tag","title":"- tag","index":"4"},{"id":"--blogroll","title":"- blogroll","index":"5"},{"id":"hexo-configuration","title":"Hexo Configuration","index":"6","children":[{"id":"docs-httpzespiatwhexodocsconfigurehtml","title":"Docs: http:&#x2F;&#x2F;zespia.tw&#x2F;hexo&#x2F;docs&#x2F;configure.html","index":"6.1"},{"id":"source-httpsgithubcomtommy351hexo","title":"Source: https:&#x2F;&#x2F;github.com&#x2F;tommy351&#x2F;hexo&#x2F;","index":"6.2"}]},{"id":"site-整站的基本信息","title":"Site #整站的基本信息","index":"7"},{"id":"url-域名和文件结构","title":"URL #域名和文件结构","index":"8","children":[{"id":"if-your-site-is-put-in-a-subdirectory-set-url-as-httpyoursitecomchild39-and-root-as-child","title":"If your site is put in a subdirectory, set url as ‘http:&#x2F;&#x2F;yoursite.com&#x2F;child&#39; and root as ‘&#x2F;child&#x2F;‘","index":"8.1"}]},{"id":"writing-写文章选项","title":"Writing #写文章选项","index":"9"},{"id":"category-amp-tag-分类与标签","title":"Category &amp; Tag #分类与标签","index":"10"},{"id":"archives-存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突","title":"Archives #存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突","index":"11","children":[{"id":"2-enable-pagination","title":"2: Enable pagination","index":"11.1"},{"id":"1-disable-pagination","title":"1: Disable pagination","index":"11.2"},{"id":"0-fully-disable","title":"0: Fully Disable","index":"11.3"}]},{"id":"server-本地服务参数","title":"Server #本地服务参数","index":"12","children":[{"id":"hexo-uses-connect-as-a-server","title":"Hexo uses Connect as a server","index":"12.1"},{"id":"you-can-customize-the-logger-format-as-defined-in","title":"You can customize the logger format as defined in","index":"12.2"},{"id":"httpwwwsenchalabsorgconnectloggerhtml","title":"http:&#x2F;&#x2F;www.senchalabs.org&#x2F;connect&#x2F;logger.html","index":"12.3"}]},{"id":"date--time-format-日期显示格式","title":"Date &#x2F; Time format #日期显示格式","index":"13","children":[{"id":"hexo-uses-momentjs-to-parse-and-display-date","title":"Hexo uses Moment.js to parse and display date","index":"13.1"},{"id":"you-can-customize-the-date-format-as-defined-in","title":"You can customize the date format as defined in","index":"13.2"},{"id":"httpmomentjscomdocsdisplayingformat","title":"http:&#x2F;&#x2F;momentjs.com&#x2F;docs&#x2F;#&#x2F;displaying&#x2F;format&#x2F;","index":"13.3"}]},{"id":"pagination-分页设置","title":"Pagination #分页设置","index":"14","children":[{"id":"set-per_page-to-0-to-disable-pagination","title":"Set per_page to 0 to disable pagination","index":"14.1"}]},{"id":"disqus-社会化评论disqus，我使用多说，在主题中配置","title":"Disqus #社会化评论disqus，我使用多说，在主题中配置","index":"15"},{"id":"extensions-插件，暂时未安装插件","title":"Extensions #插件，暂时未安装插件","index":"16","children":[{"id":"plugins-httpsgithubcomtommy351hexowikiplugins","title":"Plugins: https:&#x2F;&#x2F;github.com&#x2F;tommy351&#x2F;hexo&#x2F;wiki&#x2F;Plugins","index":"16.1"},{"id":"themes-httpsgithubcomtommy351hexowikithemes","title":"Themes: https:&#x2F;&#x2F;github.com&#x2F;tommy351&#x2F;hexo&#x2F;wiki&#x2F;Themes","index":"16.2"},{"id":"主题","title":"主题","index":"16.3"}]},{"id":"deployment-部署","title":"Deployment #部署","index":"17","children":[{"id":"docs-httpzespiatwhexodocsdeployhtml","title":"Docs: http:&#x2F;&#x2F;zespia.tw&#x2F;hexo&#x2F;docs&#x2F;deploy.html","index":"17.1"}]}],"reward":true,"copyright":{"author":"DxSummer","link":"<a href=\"https://dxsummer.gitee.io/2020/04/17/hexo详解/\" title=\"hexo详解\">https://dxsummer.gitee.io/2020/04/17/hexo详解/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"April 17, 2020","updated":"April 19, 2020"}}